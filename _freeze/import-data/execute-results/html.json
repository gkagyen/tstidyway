{
  "hash": "4fe3cd973f475726016f66d7f8b281e7",
  "result": {
    "engine": "knitr",
    "markdown": "# Importing Data and Creating a tsibble (Bonus) {#sec-importing-data-and-creating-a-tsibble}\n\n## Get your Data into R\n\nThe journey always starts by getting your data into your R environment. The goal is to get a standard tibble/data frame with at least one column representing a date or datetime.\n\n## Common Workflows\n\n1.  **From CSV/XLSX files:** Use `readr::read_csv()` or `readxl::read_excel()`. Your date column might be a character string initially (e.g. `\"2023/01/15\"`) which you can convert to an actual date later.\n2.  **From Databases**: Use `dbplyr` to query and pull into a tibble (beyond the scope of this book).\n3.  **From APIs:** Use `httr2` or `jasonlite` to pull JSON data, then parse it into a tibble (also beyond the scope of this book)\n\n## The Crucial Step: Parse Date\n\nOnce the data is in a tibble, we must ensure our data column is the correct `Date` or `POSIXct` data type This is where `lubridate` shines.\n\nFor instance functions like `ymd()`, `mdy()`, `dmy()` converts character strings like \"2023-01-12\" or \"15/01/22\" into proper dates. Also `as_date()` and `as_datetime()`, coerce numeric timestamps or other objects into dates.\n\nA simple import and parse pipeline is demonstrated below. the data used can be found here [monthly_sales.csv](https://github.com/gkagyen/tstidyway/blob/main/data/monthly_sales.csv)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readr)\nlibrary(tsibble)\nlibrary(lubridate)\nlibrary(dplyr)\n\n# step 1: Import\nsales_data <- read_csv('data/monthly_sales.csv', show_col_types = FALSE)\n\n# step2: Inspect and parse Dates\n# initially the date column might be a character type\nsales_data |> select(Month)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 60 × 1\n   Month   \n   <chr>   \n 1 Jan 2015\n 2 Feb 2015\n 3 Mar 2015\n 4 Apr 2015\n 5 May 2015\n 6 Jun 2015\n 7 Jul 2015\n 8 Aug 2015\n 9 Sep 2015\n10 Oct 2015\n# ℹ 50 more rows\n```\n\n\n:::\n:::\n\n\nThe Month column is a character as expected. We will use `lubridate` to parse it into a Date type\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Parse into date type\nsales_data <- sales_data |> \n  mutate(Date = my(Month),  # create a date column from the Month column\n         .after = Month)  |> \n  select(-Month)            # remove Month column\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# step 3: convert to tsibble\nsales_ts <- sales_data |> \n  as_tsibble(index = Date)\n```\n:::\n\n\nThis pipeline – *`Import → Parse → Convert to Tsibble`* – is the foundation of almost every tidy time series analysis.\n\nThe next chapter will dive deeply into the `lubridate` package where we will learn how to handle dates and times in a tsibble gracefully.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}